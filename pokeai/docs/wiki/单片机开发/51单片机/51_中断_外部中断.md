---
position: 8
---

```c

// 头文件
#include <reg52.h>

// 类型重定义
typedef unsigned char u8;
typedef unsigned int u16;

// 管脚定义
#define LED P0  

// 全局变量
bit flag;  

// ms 延时函数
static void delay_ms(u16 n)
{
    n *= 23;
    while (n--);
}


// 外部中断初始化
void exter_interrupt_init()
{
    1. 设置触发方式
    IT = 1;  // 1：跳变沿触发，0：电平触发
    2. 中断允许、开总中断
    EX0 = 1;
    EA = 1;
}

// 外部中断服务程序
void exter0 interrupt 0
{
    LED = ~LED;
}

void main()
{   
   exter_interrupt_init();
   ......
}

```