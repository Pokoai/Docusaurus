---
position: 2
---

```c

// 头文件
#include <reg52.h>

// 类型重定义
typedef unsigned char u8;
typedef unsigned int u16;

// 管脚定义
sbit BEEP = P0^0;   // 蜂鸣器
sbit RALAY = P0^1;  // 继电器


// ms 延时函数
static void delay_ms(u16 n)
{
    n *= 23;
    while (n--);
}

// 蜂鸣器响
void beep_on()
{
    u8 i;

    // 无源蜂鸣器需要不断变化的脉冲信号
    for ( i = 0; i < 10; i++ ) {
        // BEEP = 1;
        // delay_ms(10);
        // BEEP = 0;

        BEEP = ~BEEP;
        delay_ms(10);
    }
}

// 蜂鸣器关闭
void beep_on()
{
    BEEP = 0;
}

// 继电器打开
void ralay_on()
{
    RALAY = 1;
}

// 继电器关闭
void ralay_on()
{
    RALAY = 0;
}


void main()
{
    // P0 口通电默认输出高电平
    // 为了后续控制，需要软件初始化为低电平
    P0 = 0x00;
    while (1) {
        // 做相应处理
        ......
    }
}

```